<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark">
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-BYVB1ZVE6J"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            
            gtag('config', 'G-BYVB1ZVE6J');
            
        </script>
    <link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="SQL Auto Vector Query Engine" href="../SQLAutoVectorQueryEngine.html" /><link rel="prev" title="Pandas Query Engine" href="../pandas_query_engine.html" />

    <!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>Structured Hierarchical Retrieval - LlamaIndex 🦙 0.9.24</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/algolia.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style><script async type="text/javascript" src="/_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="llamaindex-llamaindex" /><meta name="readthedocs-version-slug" content="stable" /></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">LlamaIndex 🦙 0.9.24
</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">LlamaIndex 🦙 0.9.24
</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/installation.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/reading.html">How to read these docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/starter_example.html">Starter Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/concepts.html">High-Level Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/customization.html">Customization Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/discover_llamaindex.html">Discover LlamaIndex Video Series</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../use_cases/q_and_a.html">Q&amp;A</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../use_cases/chatbots.html">Chatbots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../use_cases/agents.html">Agents</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../use_cases/extraction.html">Structured Data Extraction</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/structured_outputs.html">Structured Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/pydantic_program.html">Pydantic Program</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/df_program.html">DataFrame Structured Data Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/evaporate_program.html">Evaporate Demo</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/query_engine.html">Query Engines + Pydantic Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../pydantic_query_engine.html">Query Engine with Pydantic Outputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/pydantic_tree_summarize.html">Pydantic Tree Summarize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/pydantic_tree_summarize.html#download-data">Download Data</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/output_parser.html">Output Parsing Modules</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/GuardrailsDemo.html">Guardrails Output Parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/LangchainOutputParserDemo.html">Langchain Output Parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/output_parser.html">Output Parsing Modules</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../output_parsing/GuardrailsDemo.html">Guardrails Output Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../output_parsing/LangchainOutputParserDemo.html">Langchain Output Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../output_parsing/df_program.html">Extracting names and locations from descriptions of people</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../llm/llama_api.html">Extracting album data from music reviews</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../use_cases/multimodal.html">Multi-modal</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/gpt4v_multi_modal_retrieval.html">Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/multi_modal_retrieval.html">Multi-modal retrieval with CLIP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/image_to_image_retrieval.html">Image to Image Retrieval</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/structured_image_retrieval.html">Semi-structured Image Retrieval</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/llava_multi_modal_tesla_10q.html">Retrieval-Augmented Image Captioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/replicate_multi_modal.html">Multi-Modal LLM using Replicate LlaVa, Fuyu 8B, MiniGPT4 models for image reasoning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/openai_multi_modal.html">GPT4-V:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/multi_modal_pydantic.html">Multi-Modal GPT4V Pydantic Program</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/gpt4v_experiments_cot.html">GPT4-V Experiments with General, Specific questions and Chain Of Thought (COT) Prompting Technique.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../evaluation/multi_modal/multi_modal_rag_evaluation.html">Evaluating Multi-Modal RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/ChromaMultiModalDemo.html">Chroma Multi-Modal Demo with LlamaIndex</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multi_modal/multi_modal_pdf_tables.html">Multi-Modal on PDF’s with tables.</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Understanding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../understanding/understanding.html">Building an LLM application</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../understanding/using_llms/using_llms.html">Using LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../understanding/using_llms/privacy.html">Privacy and Security</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../understanding/loading/loading.html">Loading Data (Ingestion)</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../understanding/loading/llamahub.html">LlamaHub</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/root.html">Documents / Nodes</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_documents.html">Defining and Customizing Documents</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_metadata_extractor.html">Metadata Extraction Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_nodes.html">Defining and Customizing Nodes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/node_parsers/root.html">Node Parser Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/loading/node_parsers/modules.html">Node Parser Modules</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/ingestion_pipeline/root.html">Ingestion Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/loading/ingestion_pipeline/transformations.html">Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/advanced_ingestion_pipeline.html">Advanced Ingestion Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/async_ingestion_pipeline.html">Async Ingestion Pipeline + Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/document_management_pipeline.html">Ingestion Pipeline + Document Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/redis_ingestion_pipeline.html">Redis Ingestion Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/ingestion_gdrive.html">Building a Live RAG Pipeline over Google Drive Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../understanding/indexing/indexing.html">Indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../understanding/storing/storing.html">Storing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../understanding/querying/querying.html">Querying</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../understanding/putting_it_all_together/putting_it_all_together.html">Putting It All Together</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../understanding/putting_it_all_together/q_and_a.html">Q&amp;A patterns</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/q_and_a/terms_definitions_tutorial.html">A Guide to Extracting Terms and Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/q_and_a/unified_query.html">A Guide to Creating a Unified Query Framework over your Indexes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/graphs.html">Knowledge Graphs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/structured_data.html">Structured Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/structured_data.html#a-guide-to-llamaindex-structured-data">A Guide to LlamaIndex + Structured Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/structured_data/Airbyte_demo.html">Airbyte SQL Index Guide</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../understanding/putting_it_all_together/apps.html">Full-Stack Web Application</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/apps/fullstack_app_guide.html">A Guide to Building a Full-Stack Web App with LLamaIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/putting_it_all_together/apps/fullstack_with_delphic.html">A Guide to Building a Full-Stack LlamaIndex Web App with Delphic</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../understanding/putting_it_all_together/chatbots/building_a_chatbot.html">How to Build a Chatbot</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../understanding/putting_it_all_together/agents.html">Agents</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_assistant_agent.html">OpenAI Assistant Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_assistant_query_cookbook.html">OpenAI Assistant Advanced Retrieval Cookbook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_forced_function_call.html">OpenAI agent: specifying a forced function call</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_agent_parallel_function_calling.html">Single-Turn Multi-Function Calling OpenAI Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../agent/openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../community/full_stack_projects.html">Full-Stack Projects</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference external" href="https://blog.llamaindex.ai/create-llama-a-command-line-tool-to-generate-llamaindex-apps-8f7683021191">create-llama Blog</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/run-llama/LlamaIndexTS/tree/main/packages/create-llama">create-llama Repo</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/jerryjliu/create_llama_projects">create-llama Additional Templates</a></li>
<li class="toctree-l3"><a class="reference external" href="https://secinsights.ai/">SEC Insights App</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/run-llama/sec-insights">SEC Insights Repo</a></li>
<li class="toctree-l3"><a class="reference external" href="https://chat-llamaindex.vercel.app/">Chat LlamaIndex App</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/run-llama/chat-llamaindex">Chat LlamaIndex Repo</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/run-llama/rags">RAGs Repo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../understanding/tracing_and_debugging/tracing_and_debugging.html">Tracing and Debugging</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../understanding/evaluating/evaluating.html">Evaluating</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../understanding/evaluating/cost_analysis/root.html">Cost Analysis</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../understanding/evaluating/cost_analysis/usage_pattern.html">Usage Pattern</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Optimizing</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../optimizing/basic_strategies/basic_strategies.html">Basic Strategies</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/prompt_mixin.html">Accessing/Customizing Prompts within Higher-Level Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/prompts_rag.html">Prompt Engineering for RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../retrievers/bm25_retriever.html">BM25 Retriever</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../retrievers/reciprocal_rerank_fusion.html">Reciprocal Rerank Fusion Retriever</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vector_stores/WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vector_stores/PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/indexing/vector_store_guide.html">Vector Store Index usage examples</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_documents.html">Defining and Customizing Documents</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_metadata_extractor.html">Metadata Extraction Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_nodes.html">Defining and Customizing Nodes</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_metadata_extractor.html">Metadata Extraction Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../optimizing/advanced_retrieval/advanced_retrieval.html">Advanced Retrieval Strategies</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../query_transformations/query_transform_cookbook.html">Query Transform Cookbook</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../optimizing/advanced_retrieval/query_transformations.html">Query Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../query_transformations/HyDEQueryTransformDemo.html">HyDE Query Transform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../retrievers/deep_memory.html">DeepMemory (Activeloop)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vector_stores/WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vector_stores/PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../optimizing/agentic_strategies/agentic_strategies.html">Agentic strategies</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/querying/router/root.html">Routers</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../retrievers/router_retriever.html">Router Retriever</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../optimizing/advanced_retrieval/query_transformations.html">Query Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../query_transformations/HyDEQueryTransformDemo.html">HyDE Query Transform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent_retrieval.html">Retrieval-Augmented OpenAI Agent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../optimizing/evaluation/evaluation.html">Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../optimizing/evaluation/e2e_evaluation.html">End-to-End Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/pairwise_eval.html">Pairwise Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../optimizing/evaluation/component_wise_evaluation.html">Component Wise Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/BeirEvaluation.html">BEIR Out of Domain Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/HotpotQADistractor.html">HotpotQADistractor Demo</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/evaluating/root.html">Evaluating</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/evaluating/usage_pattern.html">Usage Pattern (Response Evaluation)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/evaluating/usage_pattern_retrieval.html">Usage Pattern (Retrieval)</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/evaluating/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/Deepeval.html">LlamaIndex + DeepEval Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/multi_modal/multi_modal_rag_evaluation.html">Evaluating Multi-Modal RAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/retrieval/retriever_eval.html">Retrieval Evaluation</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/evaluating/evaluating_with_llamadatasets.html">Evaluating With <code class="docutils literal notranslate"><span class="pre">LabelledRagDataset</span></code>’s</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../llama_dataset/labelled-rag-datasets.html">Benchmarking RAG Pipelines With A <code class="docutils literal notranslate"><span class="pre">LabelledRagDatatset</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llama_dataset/downloading_llama_datasets.html">Downloading a LlamaDataset from LlamaHub</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/evaluating/contributing_llamadatasets.html">Contributing A <code class="docutils literal notranslate"><span class="pre">LabelledRagDataset</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../llama_dataset/ragdataset_submission_template.html"><code class="docutils literal notranslate"><span class="pre">LlamaDataset</span></code> Submission Template Notebook</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../optimizing/evaluation/component_wise_evaluation.html">Component Wise Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/BeirEvaluation.html">BEIR Out of Domain Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/HotpotQADistractor.html">HotpotQADistractor Demo</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../optimizing/evaluation/e2e_evaluation.html">End-to-End Evaluation</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/pairwise_eval.html">Pairwise Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../optimizing/fine-tuning/fine-tuning.html">Fine-tuning</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/embeddings/finetune_embedding_adapter.html">Fine-tuning an Adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/embeddings/finetune_embedding.html">Embedding Fine-tuning Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/router/router_finetune.html">Router Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/finetune-embedding">Embedding Fine-tuning Repo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://medium.com/llamaindex-blog/fine-tuning-embeddings-for-rag-with-synthetic-data-e534409a3971">Embedding Fine-tuning Blog</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1NgyCJVyrC2xcZ5lxt2frTU862v6eJHlc?usp=sharing">GPT-3.5 Fine-tuning Notebook (Colab)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/openai_fine_tuning.html">GPT-3.5 Fine-tuning Notebook (Notebook link)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/react_agent/react_agent_finetune.html">Fine-tuning a gpt-3.5 ReAct Agent on Better Chain of Thought</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/openai_fine_tuning_functions.html">[WIP] Function Calling Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing">GPT-3.5 Fine-tuning Notebook (Colab)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/jerryjliu/llama_index/blob/main/experimental/openai_fine_tuning/openai_fine_tuning.ipynb">GPT-3.5 Fine-tuning Notebook (in Repo)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/knowledge/finetune_retrieval_aug.html">Fine-tuning with Retrieval Augmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/openai_fine_tuning_functions.html">OpenAI Function Calling Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/gradient/gradient_structured.html">Llama2 Structured Output Fine-tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/knowledge/finetune_knowledge.html">Fine-tuning to Memorize Knowledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/gradient/gradient_fine_tuning.html">Llama 2 Text-to-SQL Fine-tuning (w/ Gradient.AI)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/modal_finetune_sql">Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Repo)</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/modal_finetune_sql/blob/main/tutorial.ipynb">Llama 2 Text-to-SQL Fine-tuning (w/ Modal, Notebook)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/llm_judge/correctness/finetune_llm_judge_single_grading_correctness.html">Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Correctness)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/llm_judge/pairwise/finetune_llm_judge.html">Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Pairwise)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/cross_encoder_finetuning/cross_encoder_finetuning.html">Cross-Encoder Finetuning</a></li>
<li class="toctree-l2"><a class="reference external" href="https://medium.com/llamaindex-blog/easily-finetune-llama-2-for-your-text-to-sql-applications-ecd53640e10d">Finetuning Llama 2 for Text-to-SQL</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/drive/1vWeJBXdFEObuihO7Z8ui2CAYkdHQORqo?usp=sharing">Finetuning GPT-3.5 to Distill GPT-4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/rerankers/cohere_custom_reranker.html">Cohere Custom Reranker</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../optimizing/production_rag.html">Building Performant RAG Applications for Production</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vector_stores/chroma_auto_retriever.html">Auto-Retrieval from a Vector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../retrievers/auto_vs_recursive_retriever.html">Comparing Methods for Structured Retrieval (Auto-Retrieval vs. Recursive Retrieval)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../JointQASummary.html">Joint QA Summary Query Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../agent/openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../finetuning/embeddings/finetune_embedding.html">Embedding Fine-tuning Guide</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../optimizing/building_rag_from_scratch.html">Building RAG from Scratch (Lower-Level)</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/ingestion.html">Building Data Ingestion from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/ingestion.html#pinecone">Pinecone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/ingestion.html#openai">OpenAI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/retrieval.html">Building Retrieval from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/oss_ingestion_retrieval.html">Building RAG from Scratch (Open-source only!)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/vector_store.html">Building a (Very Simple) Vector Store from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/response_synthesis.html">Building Response Synthesis from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/evaluation.html">Building Evaluation from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vector_stores/qdrant_hybrid.html">Building Hybrid Search from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/router.html">Building a Router from Scratch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../low_level/fusion_retriever.html">Building an Advanced Fusion Retriever from Scratch</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Module Guides</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/models/models.html">Models</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/models/llms.html">Using LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/models/llms/usage_standalone.html">Using LLMs as standalone modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/models/llms/usage_custom.html">Customizing LLMs within LlamaIndex Abstractions</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/models/llms/modules.html">Available LLM integrations</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../llm/ai21.html">AI21</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/anthropic.html">Anthropic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/anyscale.html">Anyscale</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/bedrock.html">Bedrock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/bedrock.html#connect-to-bedrock-with-access-keys">Connect to Bedrock with Access Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/clarifai.html">Clarifai LLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/everlyai.html">EverlyAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../customization/llms/SimpleIndexDemo-Huggingface_camel.html">HuggingFace LLM - Camel-5b</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../customization/llms/SimpleIndexDemo-Huggingface_stablelm.html">HuggingFace LLM - StableLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../vector_stores/SimpleIndexDemoLlama-Local.html">Local Llama2 + VectorStoreIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/langchain.html">LangChain LLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/litellm.html">LiteLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/llama_api.html">Llama API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/llama_2_llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/localai.html">LocalAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/mistralai.html">MistralAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/monsterapi.html">Monster API LLM Integration into LLamaIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/ollama.html">Ollama - Llama 2 7B</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/openai.html">OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/openllm.html">OpenLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/openrouter.html">OpenRouter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/palm.html">PaLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/perplexity.html">Perplexity</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/portkey.html">Portkey</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/predibase.html">Predibase</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/llama_2.html">Replicate - Llama 2 13B</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vicuna.html">Replicate - Vicuna 13B</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../vector_stores/SimpleIndexDemoLlama2.html">Llama2 + VectorStoreIndex</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/rungpt.html">RunGPT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/rungpt.html#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vertex.html">Getting Started</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vertex.html#basic-auth-example-for-service-account">Basic auth example for service account</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vertex.html#streaming-usage">Streaming Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vertex.html#chat-usage">Chat Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vertex.html#async-chat">Async Chat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vertex.html#streaming-chat">Streaming Chat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vertex.html#gemini-models">Gemini Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vllm.html">Install Vllm</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vllm.html#orca-7b-completion-example">Orca-7b Completion Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vllm.html#llama-2-7b-completion-example">LLama-2-7b Completion Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vllm.html#mistral-chat-7b-completion-example">mistral chat 7b Completion Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/vllm.html#api-response">Api Response</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../llm/xinference_local_deployment.html">Xorbits Inference</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/models/embeddings.html">Embeddings</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/OpenAI.html">OpenAI Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/Langchain.html">Langchain Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/cohereai.html">CohereAI Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/fastembed.html">Qdrant FastEmbed Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/gradient.html">Gradient Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../customization/llms/AzureOpenAI.html">Azure OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/custom_embeddings.html">Custom Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/huggingface.html">Local Embeddings with HuggingFace</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/elasticsearch.html">Elasticsearch Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/clarifai.html">Embeddings with Clarifai</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/llm_rails.html">LLMRails Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/text_embedding_inference.html">Text Embedding Inference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/google_palm.html">Google PaLM Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/jinaai_embeddings.html">Jina Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/voyageai.html">Voyage Embeddings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../embeddings/mistralai.html">MistralAI Embeddings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/models/prompts.html">Prompts</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/models/prompts/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../customization/prompts/completion_prompts.html">Completion prompts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../customization/prompts/chat_prompts.html">Chat prompts</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../prompts/prompt_mixin.html">Accessing/Customizing Prompts within Higher-Level Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../prompts/prompts_rag.html">Prompt Engineering for RAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../prompts/prompt_optimization.html">“Optimization by Prompting” for RAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../prompts/emotion_prompt.html">EmotionPrompt in RAG</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/models/llms/local.html">Using local models</a></li>
<li class="toctree-l3"><a class="reference external" href="https://replicate.com/blog/run-llama-locally">Run Llama2 locally</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/models/embeddings.html">Embeddings</a><input class="toctree-checkbox" id="toctree-checkbox-48" name="toctree-checkbox-48" role="switch" type="checkbox"/><label for="toctree-checkbox-48"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/OpenAI.html">OpenAI Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/Langchain.html">Langchain Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/cohereai.html">CohereAI Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/fastembed.html">Qdrant FastEmbed Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/gradient.html">Gradient Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../customization/llms/AzureOpenAI.html">Azure OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/custom_embeddings.html">Custom Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/huggingface.html">Local Embeddings with HuggingFace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/elasticsearch.html">Elasticsearch Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/clarifai.html">Embeddings with Clarifai</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/llm_rails.html">LLMRails Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/text_embedding_inference.html">Text Embedding Inference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/google_palm.html">Google PaLM Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/jinaai_embeddings.html">Jina Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/voyageai.html">Voyage Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../embeddings/mistralai.html">MistralAI Embeddings</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/models/multi_modal.html">[Beta] Multi-modal models</a><input class="toctree-checkbox" id="toctree-checkbox-49" name="toctree-checkbox-49" role="switch" type="checkbox"/><label for="toctree-checkbox-49"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/openai_multi_modal.html">Multi-Modal LLM using OpenAI GPT-4V model for image reasoning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/gemini.html">Multi-Modal LLM using Google’s Gemini model for image understanding and build Retrieval Augmented Generation with LlamaIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/replicate_multi_modal.html">Multi-Modal LLM using Replicate LlaVa, Fuyu 8B, MiniGPT4 models for image reasoning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/multi_modal_pydantic.html">Multi-Modal GPT4V Pydantic Program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/gpt4v_experiments_cot.html">GPT4-V Experiments with General, Specific questions and Chain Of Thought (COT) Prompting Technique.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/llava_multi_modal_tesla_10q.html">Retrieval-Augmented Image Captioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/gpt4v_multi_modal_retrieval.html">Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/multi_modal_pdf_tables.html">Multi-Modal on PDF’s with tables.</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/multi_modal_retrieval.html">Multi-Modal Retrieval using GPT text embedding and CLIP image embedding for Wikipedia Articles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/image_to_image_retrieval.html">Image to Image Retrieval using CLIP embedding and image correlation reasoning using GPT4V</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../multi_modal/ChromaMultiModalDemo.html">Chroma Multi-Modal Demo with LlamaIndex</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/multi_modal/multi_modal_rag_evaluation.html">Evaluating Multi-Modal RAG</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/models/prompts.html">Prompts</a><input class="toctree-checkbox" id="toctree-checkbox-50" name="toctree-checkbox-50" role="switch" type="checkbox"/><label for="toctree-checkbox-50"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/models/prompts/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../customization/prompts/completion_prompts.html">Completion prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../customization/prompts/chat_prompts.html">Chat prompts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/prompt_mixin.html">Accessing/Customizing Prompts within Higher-Level Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/advanced_prompts.html">Advanced Prompt Techniques (Variable Mappings, Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/prompts_rag.html">Prompt Engineering for RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/prompt_optimization.html">“Optimization by Prompting” for RAG</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../prompts/emotion_prompt.html">EmotionPrompt in RAG</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/loading/loading.html">Loading Data</a><input class="toctree-checkbox" id="toctree-checkbox-51" name="toctree-checkbox-51" role="switch" type="checkbox"/><label for="toctree-checkbox-51"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/connector/root.html">Data Connectors (LlamaHub)</a><input class="toctree-checkbox" id="toctree-checkbox-52" name="toctree-checkbox-52" role="switch" type="checkbox"/><label for="toctree-checkbox-52"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/loading/connector/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/loading/connector/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-53" name="toctree-checkbox-53" role="switch" type="checkbox"/><label for="toctree-checkbox-53"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/simple_directory_reader.html">Simple Directory Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/PsychicDemo.html">Psychic Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/DeepLakeReader.html">DeepLake Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/QdrantDemo.html">Qdrant Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/DiscordDemo.html">Discord Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/MongoDemo.html">MongoDB Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/ChromaDemo.html">Chroma Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/MyScaleReaderDemo.html">MyScale Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/FaissDemo.html">Faiss Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/ObsidianReaderDemo.html">Obsidian Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/SlackDemo.html">Slack Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/WebPageDemo.html">Web Page Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/PineconeDemo.html">Pinecone Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/PathwayReaderDemo.html">Pathway Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/MboxReaderDemo.html">Mbox Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/MilvusReaderDemo.html">MilvusReader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/NotionDemo.html">Notion Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/GithubRepositoryReaderDemo.html">Github Repo Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/GoogleDocsDemo.html">Google Docs Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/DatabaseReaderDemo.html">Database Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/TwitterDemo.html">Twitter Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/WeaviateDemo.html">Weaviate Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/MakeDemo.html">Make Reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../data_connectors/deplot/DeplotReader.html">Deplot Reader Demo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/root.html">Documents / Nodes</a><input class="toctree-checkbox" id="toctree-checkbox-54" name="toctree-checkbox-54" role="switch" type="checkbox"/><label for="toctree-checkbox-54"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_documents.html">Defining and Customizing Documents</a><input class="toctree-checkbox" id="toctree-checkbox-55" name="toctree-checkbox-55" role="switch" type="checkbox"/><label for="toctree-checkbox-55"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_metadata_extractor.html">Metadata Extraction Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-56" name="toctree-checkbox-56" role="switch" type="checkbox"/><label for="toctree-checkbox-56"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/loading/documents_and_nodes/usage_nodes.html">Defining and Customizing Nodes</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/node_parsers/root.html">Node Parser Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-57" name="toctree-checkbox-57" role="switch" type="checkbox"/><label for="toctree-checkbox-57"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/loading/node_parsers/modules.html">Node Parser Modules</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/loading/ingestion_pipeline/root.html">Ingestion Pipeline</a><input class="toctree-checkbox" id="toctree-checkbox-58" name="toctree-checkbox-58" role="switch" type="checkbox"/><label for="toctree-checkbox-58"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/loading/ingestion_pipeline/transformations.html">Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/advanced_ingestion_pipeline.html">Advanced Ingestion Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/async_ingestion_pipeline.html">Async Ingestion Pipeline + Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/document_management_pipeline.html">Ingestion Pipeline + Document Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/redis_ingestion_pipeline.html">Redis Ingestion Pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ingestion/ingestion_gdrive.html">Building a Live RAG Pipeline over Google Drive Files</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/indexing/indexing.html">Indexing</a><input class="toctree-checkbox" id="toctree-checkbox-59" name="toctree-checkbox-59" role="switch" type="checkbox"/><label for="toctree-checkbox-59"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/indexing/vector_store_index.html">Using VectorStoreIndex</a><input class="toctree-checkbox" id="toctree-checkbox-60" name="toctree-checkbox-60" role="switch" type="checkbox"/><label for="toctree-checkbox-60"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/indexing/metadata_extraction.html">Metadata Extraction</a><input class="toctree-checkbox" id="toctree-checkbox-61" name="toctree-checkbox-61" role="switch" type="checkbox"/><label for="toctree-checkbox-61"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/indexing/document_management.html">Document Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/indexing/vector_store_guide.html">Vector Store Index usage examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/indexing/index_guide.html">How Each Index Works</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/indexing/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-62" name="toctree-checkbox-62" role="switch" type="checkbox"/><label for="toctree-checkbox-62"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/indexing/vector_store_index.html">VectorStoreIndex</a><input class="toctree-checkbox" id="toctree-checkbox-63" name="toctree-checkbox-63" role="switch" type="checkbox"/><label for="toctree-checkbox-63"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../module_guides/indexing/metadata_extraction.html">Metadata Extraction</a><input class="toctree-checkbox" id="toctree-checkbox-64" name="toctree-checkbox-64" role="switch" type="checkbox"/><label for="toctree-checkbox-64"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MetadataExtractionSEC.html">Extracting Metadata for Better Document Indexing and Understanding</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MetadataExtraction_LLMSurvey.html">Automated Metadata Extraction for Better Retrieval + Synthesis</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/EntityExtractionClimate.html">Entity Metadata Extraction</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/MarvinMetadataExtractorDemo.html">Metadata Extraction and Augmentation w/ Marvin</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../metadata_extraction/PydanticExtractor.html">Pydantic Extractor</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/indexing/document_management.html">Document Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/indexing/vector_store_guide.html">Vector Store Index usage examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/indexing/index_guide.html">Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/indexing/index_guide.html">Tree Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/indexing/index_guide.html">Keyword Table Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/KnowledgeGraphDemo.html">Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html">Custom Retriever combining KG Index and VectorStore Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Query Engine</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/drive/1G6pcR0pXvSkdMQlAK_P-IrYgo-_staxd?usp=sharing">REBEL + Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/knowledge_graph2.html">REBEL + Wikipedia Filtering</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/struct_indices/SQLIndexDemo.html">SQL Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/struct_indices/duckdb_sql_query.html">SQL Query Engine with LlamaIndex + DuckDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/doc_summary/DocSummary.html">Document Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../objects/object_index.html">The <code class="docutils literal notranslate"><span class="pre">ObjectIndex</span></code> Class</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/indexing/composability.html">Composability</a><input class="toctree-checkbox" id="toctree-checkbox-65" name="toctree-checkbox-65" role="switch" type="checkbox"/><label for="toctree-checkbox-65"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../composable_indices/ComposableIndices-Prior.html">Composable Graph Basic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../composable_indices/ComposableIndices-Weaviate.html">Composable Graph with Weaviate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../composable_indices/ComposableIndices.html">Composable Graph</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/storing/storing.html">Storing</a><input class="toctree-checkbox" id="toctree-checkbox-66" name="toctree-checkbox-66" role="switch" type="checkbox"/><label for="toctree-checkbox-66"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/storing/customization.html">Customizing Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/storing/save_load.html">Persisting &amp; Loading Data</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/storing/vector_stores.html">Vector Stores</a><input class="toctree-checkbox" id="toctree-checkbox-67" name="toctree-checkbox-67" role="switch" type="checkbox"/><label for="toctree-checkbox-67"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/AstraDBIndexDemo.html">Astra DB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/AsyncIndexCreationDemo.html">Simple Vector Store - Async Index Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/AzureCosmosDBMongoDBvCoreDemo.html">Azure CosmosDB MongoDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/CassandraIndexDemo.html">Cassandra Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/ChromaIndexDemo.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/CognitiveSearchIndexDemo.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DashvectorIndexDemo.html">DashVector Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DeepLakeIndexDemo.html">DeepLake Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DocArrayHnswIndexDemo.html">DocArray Hnsw Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DocArrayInMemoryIndexDemo.html">DocArray InMemory Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/EpsillaIndexDemo.html">Epsilla Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/LanceDBIndexDemo.html">LanceDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MetalIndexDemo.html">Metal Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MilvusIndexDemo.html">Milvus Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MyScaleIndexDemo.html">MyScale Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/ElasticsearchIndexDemo.html">Elasticsearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/FaissIndexDemo.html">Faiss Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MongoDBAtlasVectorSearch.html">MongoDB Atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/Neo4jVectorDemo.html">Neo4j vector store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/OpensearchDemo.html">Opensearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/PineconeIndexDemo.html">Pinecone Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/PGVectoRsDemo.html">pgvecto.rs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/postgres.html">Postgres Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/RedisIndexDemo.html">Redis Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/QdrantIndexDemo.html">Qdrant Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/qdrant_hybrid.html">Qdrant Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/RocksetIndexDemo.html">Rockset Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/SimpleIndexDemo.html">Simple Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/SupabaseVectorIndexDemo.html">Supabase Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/TairIndexDemo.html">Tair Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/TencentVectorDBIndexDemo.html">Tencent Cloud VectorDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/Timescalevector.html">Timescale Vector Store (PostgreSQL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/WeaviateIndexDemo.html">Weaviate Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/ZepIndexDemo.html">Zep Vector Store</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/storing/docstores.html">Document Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/storing/index_stores.html">Index Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/storing/kv_stores.html">Key-Value Stores</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../community/integrations/graph_stores.html">Using Graph Stores</a><input class="toctree-checkbox" id="toctree-checkbox-68" name="toctree-checkbox-68" role="switch" type="checkbox"/><label for="toctree-checkbox-68"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/Neo4jKGIndexDemo.html">Neo4j Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html">Nebula Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/KuzuGraphDemo.html">Kuzu Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/FalkorDBGraphDemo.html">FalkorDB Graph Store</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../../module_guides/querying/querying.html">Querying</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-69" name="toctree-checkbox-69" role="switch" type="checkbox"/><label for="toctree-checkbox-69"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../../module_guides/deploying/query_engine/root.html">Query Engine</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-70" name="toctree-checkbox-70" role="switch" type="checkbox"/><label for="toctree-checkbox-70"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/deploying/query_engine/usage_pattern.html">Usage Pattern</a><input class="toctree-checkbox" id="toctree-checkbox-71" name="toctree-checkbox-71" role="switch" type="checkbox"/><label for="toctree-checkbox-71"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/deploying/query_engine/response_modes.html">Response Modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/deploying/query_engine/streaming.html">Streaming</a></li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="../../../module_guides/deploying/query_engine/modules.html">Module Guides</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-72" name="toctree-checkbox-72" role="switch" type="checkbox"/><label for="toctree-checkbox-72"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../custom_query_engine.html">Custom Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../CustomRetrievers.html">Retriever Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index_structs/struct_indices/SQLIndexDemo.html">Text-to-SQL Guide (Query Engine + Retriever)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../json_query_engine.html">JSON Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pandas_query_engine.html">Pandas Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Query Engine</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Structured Hierarchical Retrieval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../JointQASummary.html">Joint QA Summary Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../SQLAutoVectorQueryEngine.html">SQL Auto Vector Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../SQLJoinQueryEngine.html">SQL Join Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pgvector_sql_query_engine.html">[Beta] Text-to-SQL with PGVector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index_structs/struct_indices/duckdb_sql_query.html">SQL Query Engine with LlamaIndex + DuckDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../evaluation/RetryQuery.html">Retry Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../citation_query_engine.html">CitationQueryEngine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sec_tables/tesla_10q_table.html">Joint Tabular/Semantic QA over Tesla 10K</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ensemble_query_engine.html">Ensemble Query Engine Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/multi_document_agents.html">Multi-Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/multi_document_agents-v1.html">Multi-Document Agents (V1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../flare_query_engine.html">FLARE Query Engine</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/deploying/query_engine/supporting_modules.html">Supporting Modules</a><input class="toctree-checkbox" id="toctree-checkbox-73" name="toctree-checkbox-73" role="switch" type="checkbox"/><label for="toctree-checkbox-73"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="../../../optimizing/advanced_retrieval/query_transformations.html">Query Transformations</a><input class="toctree-checkbox" id="toctree-checkbox-74" name="toctree-checkbox-74" role="switch" type="checkbox"/><label for="toctree-checkbox-74"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="../../query_transformations/HyDEQueryTransformDemo.html">HyDE Query Transform</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../query_transformations/SimpleIndexDemo-multistep.html">Multi-Step Query Engine</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/deploying/chat_engines/root.html">Chat Engine</a><input class="toctree-checkbox" id="toctree-checkbox-75" name="toctree-checkbox-75" role="switch" type="checkbox"/><label for="toctree-checkbox-75"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/deploying/chat_engines/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/deploying/chat_engines/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-76" name="toctree-checkbox-76" role="switch" type="checkbox"/><label for="toctree-checkbox-76"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../chat_engine/chat_engine_react.html">ReAct Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../chat_engine/chat_engine_openai.html">OpenAI Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../chat_engine/chat_engine_condense_question.html">Condense Question Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../chat_engine/chat_engine_context.html">Context Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../chat_engine/chat_engine_condense_plus_context.html">Context Plus Condense Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../chat_engine/chat_engine_repl.html">Simple Chat Engine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/deploying/agents/root.html">Data Agents</a><input class="toctree-checkbox" id="toctree-checkbox-77" name="toctree-checkbox-77" role="switch" type="checkbox"/><label for="toctree-checkbox-77"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/deploying/agents/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/deploying/agents/modules.html">Module Guides</a><input class="toctree-checkbox" id="toctree-checkbox-78" name="toctree-checkbox-78" role="switch" type="checkbox"/><label for="toctree-checkbox-78"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_agent.html">Build your own OpenAI Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_agent_with_query_engine.html">OpenAI Agent with Query Engine Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_agent_retrieval.html">Retrieval-Augmented OpenAI Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_agent_query_cookbook.html">OpenAI Agent + Query Engine Experimental Cookbook</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_agent_query_plan.html">OpenAI Agent Query Planning</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_agent_context_retrieval.html">Context-Augmented OpenAI Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../recursive_retriever_agents.html">Recursive Retriever + Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/multi_document_agents.html">Multi-Document Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/agent_builder.html">GPT Builder Demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_agent_parallel_function_calling.html">Single-Turn Multi-Function Calling OpenAI Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_assistant_agent.html">OpenAI Assistant Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_retrieval_benchmark.html">Benchmarking OpenAI Retrieval API (through Assistant Agent)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/openai_assistant_query_cookbook.html">OpenAI Assistant Advanced Retrieval Cookbook</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/react_agent_with_query_engine.html">ReAct Agent with Query Engine Tools</a></li>
<li class="toctree-l4"><a class="reference external" href="https://github.com/run-llama/llama-hub/blob/main/llama_hub/llama_packs/agents/llm_compiler/llm_compiler.ipynb">LLMCompiler Agent Cookbook</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/custom_agent.html">Building a Custom Agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/agent_runner/agent_runner.html">Step-wise, Controllable Agents</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/agent_runner/agent_runner_rag.html">Controllable Agents for RAG</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../agent/agent_runner/agent_runner_rag_controllable.html">Controllable Agents for RAG</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/deploying/agents/tools/root.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-79" name="toctree-checkbox-79" role="switch" type="checkbox"/><label for="toctree-checkbox-79"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/deploying/agents/tools/usage_pattern.html">Usage Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/deploying/agents/tools/llamahub_tools_guide.html">LlamaHub Tools Guide</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/deploying/agents/agent_runner.html">Lower-Level Agent API</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../../../module_guides/querying/retriever/root.html">Retriever</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-80" name="toctree-checkbox-80" role="switch" type="checkbox"/><label for="toctree-checkbox-80"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/querying/retriever/retriever_modes.html">Retriever Modes</a></li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="../../../module_guides/querying/retriever/retrievers.html">Retriever Modules</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-81" name="toctree-checkbox-81" role="switch" type="checkbox"/><label for="toctree-checkbox-81"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../CustomRetrievers.html">Define Custom Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/bm25_retriever.html">BM25 Hybrid Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/simple_fusion.html">Simple Fusion Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/reciprocal_rerank_fusion.html">Reciprocal Rerank Fusion Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/auto_merging_retriever.html">Auto Merging Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../vector_stores/pinecone_auto_retriever.html">Auto Retriever (with Pinecone + Arize Phoenix)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../vector_stores/chroma_auto_retriever.html">Auto-Retrieval (with Chroma)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../vector_stores/BagelAutoRetriever.html">Auto-Retrieval (with BagelDB)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Structured Hierarchical Retrieval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index_structs/knowledge_graph/KnowledgeGraphIndex_vs_VectorStoreIndex_vs_CustomIndex_combined.html">Custom Retriever (KG Index and Vector Store Index)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../knowledge_graph_rag_query_engine.html">Knowledge Graph RAG Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pdf_tables/recursive_retriever.html">Recursive Retriever + Query Engine Demo</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/recursive_retriever_nodes.html">Recursive Retriever + Node References</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/recurisve_retriever_nodes_braintrust.html">Recursive Retriever + Node References + Braintrust</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/router_retriever.html">Router Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/ensemble_retrieval.html">Ensemble Retrieval Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../managed/GoogleDemo.html">Google Generative Language Semantic Retriever</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">Structured Hierarchical Retrieval</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../managed/GoogleDemo.html">Google Generative Language Semantic Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../managed/vectaraDemo.html">Vectara Managed Index</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../managed/zcpDemo.html">Managed Index with Zilliz Cloud Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/you_retriever.html">You.com Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../index_structs/struct_indices/SQLIndexDemo.html">Text-to-SQL Guide (Query Engine + Retriever)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/deep_memory.html">DeepMemory (Activeloop)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../retrievers/pathway_retriever.html">Pathway Retriever</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/querying/response_synthesizers/root.html">Response Synthesizer</a><input class="toctree-checkbox" id="toctree-checkbox-82" name="toctree-checkbox-82" role="switch" type="checkbox"/><label for="toctree-checkbox-82"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/response_synthesizers/response_synthesizers.html">Response Synthesis Modules</a><input class="toctree-checkbox" id="toctree-checkbox-83" name="toctree-checkbox-83" role="switch" type="checkbox"/><label for="toctree-checkbox-83"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/refine.html">Refine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/structured_refine.html">Refine with Structured Answer Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/tree_summarize.html">Tree Summarize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/custom_prompt_synthesizer.html">Pydantic Tree Summarize</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/querying/router/root.html">Routers</a><input class="toctree-checkbox" id="toctree-checkbox-84" name="toctree-checkbox-84" role="switch" type="checkbox"/><label for="toctree-checkbox-84"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../RouterQueryEngine.html">Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../RetrieverRouterQueryEngine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../SQLRouterQueryEngine.html">SQL Router Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../retrievers/router_retriever.html">Router Retriever</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/querying/node_postprocessors/root.html">Node Postprocessor</a><input class="toctree-checkbox" id="toctree-checkbox-85" name="toctree-checkbox-85" role="switch" type="checkbox"/><label for="toctree-checkbox-85"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/node_postprocessors/node_postprocessors.html">Node Postprocessor Modules</a><input class="toctree-checkbox" id="toctree-checkbox-86" name="toctree-checkbox-86" role="switch" type="checkbox"/><label for="toctree-checkbox-86"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/OptimizerDemo.html">Sentence Embedding Optimizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/CohereRerank.html">Cohere Rerank</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/LLMReranker-Lyft-10k.html">LLM Reranker Demonstration (2021 Lyft 10-k)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/LLMReranker-Gatsby.html">LLM Reranker Demonstration (Great Gatsby)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/RecencyPostprocessorDemo.html">Recency Filtering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/TimeWeightedPostprocessorDemo.html">Time-Weighted Rerank</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/PII.html">PII Masking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/PrevNextPostprocessorDemo.html">Forward/Backward Augmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/MetadataReplacementDemo.html">Metadata Replacement + Node Sentence Window</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../node_postprocessor/LongContextReorder.html">LongContextReorder</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/structured_outputs.html">Structured Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-87" name="toctree-checkbox-87" role="switch" type="checkbox"/><label for="toctree-checkbox-87"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/pydantic_program.html">Pydantic Program</a><input class="toctree-checkbox" id="toctree-checkbox-88" name="toctree-checkbox-88" role="switch" type="checkbox"/><label for="toctree-checkbox-88"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/df_program.html">DataFrame Structured Data Extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/evaporate_program.html">Evaporate Demo</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/query_engine.html">Query Engines + Pydantic Outputs</a><input class="toctree-checkbox" id="toctree-checkbox-89" name="toctree-checkbox-89" role="switch" type="checkbox"/><label for="toctree-checkbox-89"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../pydantic_query_engine.html">Query Engine with Pydantic Outputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/pydantic_tree_summarize.html">Pydantic Tree Summarize</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../response_synthesizers/pydantic_tree_summarize.html#download-data">Download Data</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/querying/structured_outputs/output_parser.html">Output Parsing Modules</a><input class="toctree-checkbox" id="toctree-checkbox-90" name="toctree-checkbox-90" role="switch" type="checkbox"/><label for="toctree-checkbox-90"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/GuardrailsDemo.html">Guardrails Output Parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/LangchainOutputParserDemo.html">Langchain Output Parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_pydantic_program.html">Guidance Pydantic Program</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/guidance_sub_question.html">Guidance for Sub-Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../output_parsing/openai_pydantic_program.html">OpenAI Pydantic Program</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/observability/observability.html">Observability</a><input class="toctree-checkbox" id="toctree-checkbox-91" name="toctree-checkbox-91" role="switch" type="checkbox"/><label for="toctree-checkbox-91"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb">Arize Phoenix Tracing Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb">Evaluating Search and Retrieval with Arize Phoenix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Quickstart Guide with LlamaIndex + TruLens</a></li>
<li class="toctree-l2"><a class="reference external" href="https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Colab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../callbacks/HoneyHiveLlamaIndexTracer.html">HoneyHive LlamaIndex Tracer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../callbacks/PromptLayerHandler.html">PromptLayer Handler</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/observability/callbacks/root.html">Callbacks</a><input class="toctree-checkbox" id="toctree-checkbox-92" name="toctree-checkbox-92" role="switch" type="checkbox"/><label for="toctree-checkbox-92"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/TokenCountingHandler.html">Token Counting Handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/LlamaDebugHandler.html">Llama Debug Handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/AimCallback.html">Aim Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../module_guides/observability/callbacks/token_counting_migration.html">Token Counting - Migration Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/evaluating/root.html">Evaluating</a><input class="toctree-checkbox" id="toctree-checkbox-93" name="toctree-checkbox-93" role="switch" type="checkbox"/><label for="toctree-checkbox-93"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/evaluating/usage_pattern.html">Usage Pattern (Response Evaluation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/evaluating/usage_pattern_retrieval.html">Usage Pattern (Retrieval)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/evaluating/modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-94" name="toctree-checkbox-94" role="switch" type="checkbox"/><label for="toctree-checkbox-94"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/faithfulness_eval.html">Faithfulness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/relevancy_eval.html">Relevancy Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/guideline_eval.html">Guideline Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/correctness_eval.html">Correctness Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/semantic_similarity_eval.html">Embedding Similarity Evaluator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/Deepeval.html">LlamaIndex + DeepEval Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/QuestionGeneration.html">QuestionGeneration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/batch_eval.html">BatchEvalRunner - Running Multiple Evaluations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/multi_modal/multi_modal_rag_evaluation.html">Evaluating Multi-Modal RAG</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../evaluation/retrieval/retriever_eval.html">Retrieval Evaluation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/evaluating/evaluating_with_llamadatasets.html">Evaluating With <code class="docutils literal notranslate"><span class="pre">LabelledRagDataset</span></code>’s</a><input class="toctree-checkbox" id="toctree-checkbox-95" name="toctree-checkbox-95" role="switch" type="checkbox"/><label for="toctree-checkbox-95"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../llama_dataset/labelled-rag-datasets.html">Benchmarking RAG Pipelines With A <code class="docutils literal notranslate"><span class="pre">LabelledRagDatatset</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../llama_dataset/downloading_llama_datasets.html">Downloading a LlamaDataset from LlamaHub</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/evaluating/contributing_llamadatasets.html">Contributing A <code class="docutils literal notranslate"><span class="pre">LabelledRagDataset</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-96" name="toctree-checkbox-96" role="switch" type="checkbox"/><label for="toctree-checkbox-96"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../llama_dataset/ragdataset_submission_template.html"><code class="docutils literal notranslate"><span class="pre">LlamaDataset</span></code> Submission Template Notebook</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../module_guides/supporting_modules/supporting_modules.html">Supporting Modules</a><input class="toctree-checkbox" id="toctree-checkbox-97" name="toctree-checkbox-97" role="switch" type="checkbox"/><label for="toctree-checkbox-97"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../module_guides/supporting_modules/service_context.html">ServiceContext</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api_reference/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-98" name="toctree-checkbox-98" role="switch" type="checkbox"/><label for="toctree-checkbox-98"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/callbacks.html">Callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/composability.html">Composability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/evaluation.html">Evaluation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/example_notebooks.html">Example Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/finetuning.html">Finetuning</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/indices.html">Indices</a><input class="toctree-checkbox" id="toctree-checkbox-99" name="toctree-checkbox-99" role="switch" type="checkbox"/><label for="toctree-checkbox-99"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/indices/list.html">Summary Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/indices/table.html">Table Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/indices/tree.html">Tree Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/indices/vector_store.html">Vector Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/indices/struct_store.html">Structured Store Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/indices/kg.html">Knowledge Graph Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/indices/empty.html">Empty Index</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/llm_predictor.html">LLM Predictors</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/llms.html">LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-100" name="toctree-checkbox-100" role="switch" type="checkbox"/><label for="toctree-checkbox-100"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/anthropic.html">Anthropic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/huggingface.html">HuggingFaceLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/langchain.html">LangChainLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/litellm.html">LiteLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/openai.html">OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/openai_like.html">OpenAILike</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/openllm.html">OpenLLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/palm.html">PaLM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/predibase.html">Predibase</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/replicate.html">Replicate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/llms/xinference.html">XOrbits Xinference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/memory.html">Memory</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/multi_modal.html">Multi-Modal LLMs, Vector Stores, Embeddings, Retriever, and Query Engine</a><input class="toctree-checkbox" id="toctree-checkbox-101" name="toctree-checkbox-101" role="switch" type="checkbox"/><label for="toctree-checkbox-101"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/multi_modal/openai.html">OpenAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/multi_modal/replicate.html">Replicate</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/node_postprocessor.html">Node Postprocessor</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/node.html">Node</a><input class="toctree-checkbox" id="toctree-checkbox-102" name="toctree-checkbox-102" role="switch" type="checkbox"/><label for="toctree-checkbox-102"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.BaseComponent.html">BaseComponent</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.BaseNode.html">BaseNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.Document.html">Document</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.ImageDocument.html">ImageDocument</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.ImageNode.html">ImageNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.IndexNode.html">IndexNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.MetadataMode.html">MetadataMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.Node.html">Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.NodeRelationship.html">NodeRelationship</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.NodeWithScore.html">NodeWithScore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.ObjectType.html">ObjectType</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.QueryBundle.html">QueryBundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.RelatedNodeInfo.html">RelatedNodeInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.TextNode.html">TextNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.schema.TransformComponent.html">TransformComponent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/playground.html">Playground</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/prompts.html">Prompt Templates</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/query.html">Querying an Index</a><input class="toctree-checkbox" id="toctree-checkbox-103" name="toctree-checkbox-103" role="switch" type="checkbox"/><label for="toctree-checkbox-103"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api_reference/query/retrievers.html">Retrievers</a><input class="toctree-checkbox" id="toctree-checkbox-104" name="toctree-checkbox-104" role="switch" type="checkbox"/><label for="toctree-checkbox-104"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/retrievers/empty.html">Empty Index Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/retrievers/kg.html">Knowledge Graph Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/retrievers/list.html">List Retriever</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/retrievers/table.html">Keyword Table Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/retrievers/tree.html">Tree Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/retrievers/vector_store.html">Vector Store Retrievers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/retrievers/transform.html">Transform Retriever</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/query/response_synthesizer.html">Response Synthesizer</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api_reference/query/query_engines.html">Query Engines</a><input class="toctree-checkbox" id="toctree-checkbox-105" name="toctree-checkbox-105" role="switch" type="checkbox"/><label for="toctree-checkbox-105"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/graph_query_engine.html">Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/multistep_query_engine.html">Multistep Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/retriever_query_engine.html">Retriever Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/transform_query_engine.html">Transform Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/router_query_engine.html">Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/retriever_router_query_engine.html">Retriever Router Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/sub_question_query_engine.html">Sub Question Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/sql_join_query_engine.html">SQL Join Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/flare_query_engine.html">Flare Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/citation_query_engine.html">Citation Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/sql_query_engine.html">SQL Query Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/query_engines/pandas_query_engine.html">Pandas Query Engine</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api_reference/query/chat_engines.html">Chat Engines</a><input class="toctree-checkbox" id="toctree-checkbox-106" name="toctree-checkbox-106" role="switch" type="checkbox"/><label for="toctree-checkbox-106"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/chat_engines/simple_chat_engine.html">Simple Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/chat_engines/condense_question_chat_engine.html">Condense Question Chat Engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/query/chat_engines/condense_plus_context_chat_engine.html">Condense Plus Context Chat Engine</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/query/query_bundle.html">Query Bundle</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/query/query_transform.html">Query Transform</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/readers.html">Data Connectors</a><input class="toctree-checkbox" id="toctree-checkbox-107" name="toctree-checkbox-107" role="switch" type="checkbox"/><label for="toctree-checkbox-107"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.download_loader.html">download_loader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.WikipediaReader.html">WikipediaReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.YoutubeTranscriptReader.html">YoutubeTranscriptReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.SimpleDirectoryReader.html">SimpleDirectoryReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.JSONReader.html">JSONReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.SimpleMongoReader.html">SimpleMongoReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.NotionPageReader.html">NotionPageReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.GoogleDocsReader.html">GoogleDocsReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.MetalReader.html">MetalReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.DiscordReader.html">DiscordReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.SlackReader.html">SlackReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.WeaviateReader.html">WeaviateReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.PathwayReader.html">PathwayReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.PineconeReader.html">PineconeReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.PsychicReader.html">PsychicReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.QdrantReader.html">QdrantReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.MilvusReader.html">MilvusReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.ChromaReader.html">ChromaReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.DeepLakeReader.html">DeepLakeReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.FaissReader.html">FaissReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.MyScaleReader.html">MyScaleReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.StringIterableReader.html">StringIterableReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.SimpleWebPageReader.html">SimpleWebPageReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.BeautifulSoupWebReader.html">BeautifulSoupWebReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.TrafilaturaWebReader.html">TrafilaturaWebReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.RssReader.html">RssReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.MakeWrapper.html">MakeWrapper</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.TwitterTweetReader.html">TwitterTweetReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.ObsidianReader.html">ObsidianReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.GithubRepositoryReader.html">GithubRepositoryReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.MboxReader.html">MboxReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.ElasticsearchReader.html">ElasticsearchReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.SteamshipFileReader.html">SteamshipFileReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.ChatGPTRetrievalPluginReader.html">ChatGPTRetrievalPluginReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.BagelReader.html">BagelReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.HTMLTagReader.html">HTMLTagReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.ReaderConfig.html">ReaderConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.PDFReader.html">PDFReader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api/llama_index.readers.DashVectorReader.html">DashVectorReader</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/response.html">Response</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/service_context.html">Service Context</a><input class="toctree-checkbox" id="toctree-checkbox-108" name="toctree-checkbox-108" role="switch" type="checkbox"/><label for="toctree-checkbox-108"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html">Embeddings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#openaiembedding">OpenAIEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#huggingfaceembedding">HuggingFaceEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#optimumembedding">OptimumEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#instructorembedding">InstructorEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#langchainembedding">LangchainEmbedding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding">GoogleUnivSentEncoderEmbedding</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api_reference/service_context/node_parser.html">Node Parser</a><input class="toctree-checkbox" id="toctree-checkbox-109" name="toctree-checkbox-109" role="switch" type="checkbox"/><label for="toctree-checkbox-109"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.get_leaf_nodes.html">get_leaf_nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.get_root_nodes.html">get_root_nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.TokenTextSplitter.html">TokenTextSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.SentenceSplitter.html">SentenceSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.CodeSplitter.html">CodeSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.SimpleFileNodeParser.html">SimpleFileNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.HTMLNodeParser.html">HTMLNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.MarkdownNodeParser.html">MarkdownNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.JSONNodeParser.html">JSONNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.SentenceWindowNodeParser.html">SentenceWindowNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.NodeParser.html">NodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.HierarchicalNodeParser.html">HierarchicalNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.TextSplitter.html">TextSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.MarkdownElementNodeParser.html">MarkdownElementNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.MetadataAwareTextSplitter.html">MetadataAwareTextSplitter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.LangchainNodeParser.html">LangchainNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.UnstructuredElementNodeParser.html">UnstructuredElementNodeParser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.node_parser.SimpleNodeParser.html">SimpleNodeParser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/service_context/prompt_helper.html">PromptHelper</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api_reference/llms.html">LLMs</a><input class="toctree-checkbox" id="toctree-checkbox-110" name="toctree-checkbox-110" role="switch" type="checkbox"/><label for="toctree-checkbox-110"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/anthropic.html">Anthropic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/azure_openai.html">Azure OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/huggingface.html">HuggingFaceLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/langchain.html">LangChainLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/gradient_base_model.html">Gradient Base Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/gradient_model_adapter.html">Gradient Model Adapter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/litellm.html">LiteLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/llama_cpp.html">LlamaCPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/openai.html">OpenAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/openai_like.html">OpenAILike</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/openllm.html">OpenLLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/palm.html">PaLM</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/predibase.html">Predibase</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/replicate.html">Replicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference/llms/xinference.html">XOrbits Xinference</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#openaiembedding">OpenAIEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#huggingfaceembedding">HuggingFaceEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#optimumembedding">OptimumEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#instructorembedding">InstructorEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#langchainembedding">LangchainEmbedding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/service_context/embeddings.html#googleunivsentencoderembedding">GoogleUnivSentEncoderEmbedding</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api_reference/storage.html">Storage Context</a><input class="toctree-checkbox" id="toctree-checkbox-111" name="toctree-checkbox-111" role="switch" type="checkbox"/><label for="toctree-checkbox-111"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/storage/docstore.html">Document Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/storage/index_store.html">Index Store</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../api_reference/storage/vector_store.html">Vector Store</a><input class="toctree-checkbox" id="toctree-checkbox-112" name="toctree-checkbox-112" role="switch" type="checkbox"/><label for="toctree-checkbox-112"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.ElasticsearchStore.html">ElasticsearchStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.SimpleVectorStore.html">SimpleVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.RedisVectorStore.html">RedisVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.RocksetVectorStore.html">RocksetVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.FaissVectorStore.html">FaissVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.PineconeVectorStore.html">PineconeVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.WeaviateVectorStore.html">WeaviateVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.QdrantVectorStore.html">QdrantVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.CassandraVectorStore.html">CassandraVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.ChromaVectorStore.html">ChromaVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.MetalVectorStore.html">MetalVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.OpensearchVectorStore.html">OpensearchVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.OpensearchVectorClient.html">OpensearchVectorClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.ChatGPTRetrievalPluginClient.html">ChatGPTRetrievalPluginClient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.MilvusVectorStore.html">MilvusVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.DeepLakeVectorStore.html">DeepLakeVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.MyScaleVectorStore.html">MyScaleVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.LanceDBVectorStore.html">LanceDBVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.TairVectorStore.html">TairVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.DocArrayInMemoryVectorStore.html">DocArrayInMemoryVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.DocArrayHnswVectorStore.html">DocArrayHnswVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.SupabaseVectorStore.html">SupabaseVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.PGVectorStore.html">PGVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.PGVectoRsStore.html">PGVectoRsStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.TimescaleVectorStore.html">TimescaleVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.ZepVectorStore.html">ZepVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.AwaDBVectorStore.html">AwaDBVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.BagelVectorStore.html">BagelVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.Neo4jVectorStore.html">Neo4jVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.CognitiveSearchVectorStore.html">CognitiveSearchVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.EpsillaVectorStore.html">EpsillaVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.SingleStoreVectorStore.html">SingleStoreVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.VectorStoreQuery.html">VectorStoreQuery</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.VectorStoreQueryResult.html">VectorStoreQueryResult</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.MetadataFilters.html">MetadataFilters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.MetadataFilter.html">MetadataFilter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.ExactMatchFilter.html">ExactMatchFilter</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.FilterCondition.html">FilterCondition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.FilterOperator.html">FilterOperator</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.DashVectorStore.html">DashVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.TencentVectorDB.html">TencentVectorDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.AstraDBVectorStore.html">AstraDBVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.AzureCosmosDBMongoDBVectorSearch.html">AzureCosmosDBMongoDBVectorSearch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.LanternVectorStore.html">LanternVectorStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api/llama_index.vector_stores.MongoDBAtlasVectorSearch.html">MongoDBAtlasVectorSearch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/storage/kv_store.html">KV Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference/storage/indices_save_load.html">Loading Indices</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference/struct_store.html">Structured Index Configuration</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../community/integrations.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-113" name="toctree-checkbox-113" role="switch" type="checkbox"/><label for="toctree-checkbox-113"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../community/llama_packs/root.html">Llama Packs 🦙📦</a><input class="toctree-checkbox" id="toctree-checkbox-114" name="toctree-checkbox-114" role="switch" type="checkbox"/><label for="toctree-checkbox-114"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../llama_hub/llama_packs_example.html">Llama Packs Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../llama_hub/llama_pack_resume.html">Llama Pack - Resume Screener 📄</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../llama_hub/llama_pack_ollama.html">Ollama Llama Pack Example</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../module_guides/observability/observability.html">Observability</a><input class="toctree-checkbox" id="toctree-checkbox-115" name="toctree-checkbox-115" role="switch" type="checkbox"/><label for="toctree-checkbox-115"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/tracing/llama_index_tracing_tutorial.ipynb">Arize Phoenix Tracing Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/Arize-ai/phoenix/blob/main/tutorials/llama_index_search_and_retrieval_tutorial.ipynb">Evaluating Search and Retrieval with Arize Phoenix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Quickstart Guide with LlamaIndex + TruLens</a></li>
<li class="toctree-l3"><a class="reference external" href="https://colab.research.google.com/github/truera/trulens/blob/main/trulens_eval/examples/frameworks/llama_index/llama_index_quickstart.ipynb">Colab</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/HoneyHiveLlamaIndexTracer.html">HoneyHive LlamaIndex Tracer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../callbacks/PromptLayerHandler.html">PromptLayer Handler</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../module_guides/observability/callbacks/root.html">Callbacks</a><input class="toctree-checkbox" id="toctree-checkbox-116" name="toctree-checkbox-116" role="switch" type="checkbox"/><label for="toctree-checkbox-116"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../callbacks/TokenCountingHandler.html">Token Counting Handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../callbacks/LlamaDebugHandler.html">Llama Debug Handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../callbacks/WandbCallbackHandler.html">Wandb Callback Handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../callbacks/AimCallback.html">Aim Callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../callbacks/OpenInferenceCallback.html">OpenInference Callback Handler + Arize Phoenix</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../module_guides/observability/callbacks/token_counting_migration.html">Token Counting - Migration Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/graphsignal.html">Tracing with Graphsignal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/trulens.html">Evaluating and Tracking with TruLens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/deepeval.html">Unit Testing LLMs With DeepEval</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/guidance.html">Guidance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/lmformatenforcer.html">LM Format Enforcer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output_parsing/GuardrailsDemo.html">Guardrails</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../output_parsing/openai_pydantic_program.html">OpenAI Function Calling</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../community/integrations/vector_stores.html">Using Vector Stores</a><input class="toctree-checkbox" id="toctree-checkbox-117" name="toctree-checkbox-117" role="switch" type="checkbox"/><label for="toctree-checkbox-117"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/AstraDBIndexDemo.html">Astra DB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/AsyncIndexCreationDemo.html">Simple Vector Store - Async Index Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/AzureCosmosDBMongoDBvCoreDemo.html">Azure CosmosDB MongoDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/CassandraIndexDemo.html">Cassandra Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/ChromaIndexDemo.html">Chroma</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/CognitiveSearchIndexDemo.html">Azure Cognitive Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DashvectorIndexDemo.html">DashVector Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DeepLakeIndexDemo.html">DeepLake Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DocArrayHnswIndexDemo.html">DocArray Hnsw Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/DocArrayInMemoryIndexDemo.html">DocArray InMemory Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/EpsillaIndexDemo.html">Epsilla Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/LanceDBIndexDemo.html">LanceDB Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MetalIndexDemo.html">Metal Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MilvusIndexDemo.html">Milvus Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MyScaleIndexDemo.html">MyScale Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/ElasticsearchIndexDemo.html">Elasticsearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/FaissIndexDemo.html">Faiss Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/MongoDBAtlasVectorSearch.html">MongoDB Atlas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/Neo4jVectorDemo.html">Neo4j vector store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/OpensearchDemo.html">Opensearch Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/PineconeIndexDemo.html">Pinecone Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/PineconeIndexDemo-Hybrid.html">Pinecone Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/PGVectoRsDemo.html">pgvecto.rs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/postgres.html">Postgres Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/RedisIndexDemo.html">Redis Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/QdrantIndexDemo.html">Qdrant Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/qdrant_hybrid.html">Qdrant Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/RocksetIndexDemo.html">Rockset Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/SimpleIndexDemo.html">Simple Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/SupabaseVectorIndexDemo.html">Supabase Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/TairIndexDemo.html">Tair Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/TencentVectorDBIndexDemo.html">Tencent Cloud VectorDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/Timescalevector.html">Timescale Vector Store (PostgreSQL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/WeaviateIndexDemo.html">Weaviate Vector Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/WeaviateIndexDemo-Hybrid.html">Weaviate Vector Store - Hybrid Search</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vector_stores/ZepIndexDemo.html">Zep Vector Store</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../community/integrations/graph_stores.html">Using Graph Stores</a><input class="toctree-checkbox" id="toctree-checkbox-118" name="toctree-checkbox-118" role="switch" type="checkbox"/><label for="toctree-checkbox-118"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/Neo4jKGIndexDemo.html">Neo4j Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/NebulaGraphKGIndexDemo.html">Nebula Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../knowledge_graph_query_engine.html">Knowledge Graph Query Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/KuzuGraphDemo.html">Kuzu Graph Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index_structs/knowledge_graph/FalkorDBGraphDemo.html">FalkorDB Graph Store</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../community/integrations/managed_indices.html">Using Managed Indices</a><input class="toctree-checkbox" id="toctree-checkbox-119" name="toctree-checkbox-119" role="switch" type="checkbox"/><label for="toctree-checkbox-119"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../managed/GoogleDemo.html">Google Generative Language Semantic Retriever</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../managed/vectaraDemo.html">Vectara Managed Index</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../managed/zcpDemo.html">Managed Index with Zilliz Cloud Pipeline</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/using_with_langchain.html">Using with Langchain 🦜🔗</a></li>
<li class="toctree-l2"><a class="reference external" href="https://blog.streamlit.io/build-a-chatbot-with-custom-data-sources-powered-by-llamaindex/">Streamlit</a></li>
<li class="toctree-l2"><a class="reference external" href="https://docs.chainlit.io/integrations/llama-index">Chainlit</a></li>
<li class="toctree-l2"><a class="reference external" href="https://www.anyscale.com/blog/build-and-scale-a-powerful-query-engine-with-llamaindex-ray">LlamaIndex + Ray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/chatgpt_plugins.html">ChatGPT Plugin Integrations</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/poe-platform/poe-protocol/tree/main/llama_poe">Poe</a></li>
<li class="toctree-l2"><a class="reference external" href="https://airbyte.com/tutorials/airbyte-and-llamaindex-elt-and-chat-with-your-data-warehouse-without-writing-sql">Airbyte</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/integrations/fleet_libraries_context.html">Fleet Context Embeddings - Building a Hybrid Search Engine for the Llamaindex Library</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../community/frequently_asked_questions.html">Frequently Asked Questions (FAQ)</a><input class="toctree-checkbox" id="toctree-checkbox-120" name="toctree-checkbox-120" role="switch" type="checkbox"/><label for="toctree-checkbox-120"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../community/faq/llms.html">Large Language Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/faq/embeddings.html">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/faq/vector_database.html">Vector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/faq/query_engines.html">Query Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/faq/chat_engines.html">Chat Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/faq/documents_and_nodes.html">Documents and Nodes</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../community/full_stack_projects.html">Full-Stack Projects</a><input class="toctree-checkbox" id="toctree-checkbox-121" name="toctree-checkbox-121" role="switch" type="checkbox"/><label for="toctree-checkbox-121"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference external" href="https://blog.llamaindex.ai/create-llama-a-command-line-tool-to-generate-llamaindex-apps-8f7683021191">create-llama Blog</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/LlamaIndexTS/tree/main/packages/create-llama">create-llama Repo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/jerryjliu/create_llama_projects">create-llama Additional Templates</a></li>
<li class="toctree-l2"><a class="reference external" href="https://secinsights.ai/">SEC Insights App</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/sec-insights">SEC Insights Repo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://chat-llamaindex.vercel.app/">Chat LlamaIndex App</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/chat-llamaindex">Chat LlamaIndex Repo</a></li>
<li class="toctree-l2"><a class="reference external" href="https://github.com/run-llama/rags">RAGs Repo</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/contributing.html">Contributing to LlamaIndex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/documentation.html">Documentation Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Changes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../changes/changelog.html">ChangeLog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changes/deprecated_terms.html">Deprecated Terms</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="structured-hierarchical-retrieval">
<h1>Structured Hierarchical Retrieval<a class="headerlink" href="#structured-hierarchical-retrieval" title="Permalink to this heading"></a></h1>
<p><a href="https://colab.research.google.com/github/run-llama/llama_index/blob/main/docs/examples/query_engine/multi_doc_auto_retrieval/multi_doc_auto_retrieval.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
<p>Doing RAG well over multiple documents is hard. A general framework is given a user query, first select the relevant documents before selecting the content inside.</p>
<p>But selecting the documents can be tough - how can we dynamically select documents based on different properties depending on the user query?</p>
<p>In this notebook we show you our multi-document RAG architecture:</p>
<ul class="simple">
<li><p>Represent each document as a concise <strong>metadata</strong> dictionary containing different properties: an extracted summary along with structured metadata.</p></li>
<li><p>Store this metadata dictionary as filters within a vector database.</p></li>
<li><p>Given a user query, first do <strong>auto-retrieval</strong> - infer the relevant semantic query and the set of filters to query this data (effectively combining text-to-SQL and semantic search).</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>llama-index
</pre></div>
</div>
</div>
</div>
<div class="section" id="setup-and-download-data">
<h2>Setup and Download Data<a class="headerlink" href="#setup-and-download-data" title="Permalink to this heading"></a></h2>
<p>In this section, we’ll load in LlamaIndex Github issues.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nest_asyncio</span>

<span class="n">nest_asyncio</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;GITHUB_TOKEN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="kn">from</span> <span class="nn">llama_hub.github_repo_issues</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">GitHubRepositoryIssuesReader</span><span class="p">,</span>
    <span class="n">GitHubIssuesClient</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">github_client</span> <span class="o">=</span> <span class="n">GitHubIssuesClient</span><span class="p">()</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">GitHubRepositoryIssuesReader</span><span class="p">(</span>
    <span class="n">github_client</span><span class="p">,</span>
    <span class="n">owner</span><span class="o">=</span><span class="s2">&quot;run-llama&quot;</span><span class="p">,</span>
    <span class="n">repo</span><span class="o">=</span><span class="s2">&quot;llama_index&quot;</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">orig_docs</span> <span class="o">=</span> <span class="n">loader</span><span class="o">.</span><span class="n">load_data</span><span class="p">()</span>

<span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">docs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">doc</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">orig_docs</span><span class="p">):</span>
    <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;index_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">id_</span>
    <span class="k">if</span> <span class="n">idx</span> <span class="o">&gt;=</span> <span class="n">limit</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Found 100 issues in the repo page 1
Resulted in 100 documents
Found 100 issues in the repo page 2
Resulted in 200 documents
Found 100 issues in the repo page 3
Resulted in 300 documents
Found 9 issues in the repo page 4
Resulted in 309 documents
No more issues found, stopping
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">tqdm.asyncio</span> <span class="kn">import</span> <span class="n">tqdm_asyncio</span>
<span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">SummaryIndex</span><span class="p">,</span> <span class="n">Document</span><span class="p">,</span> <span class="n">ServiceContext</span>
<span class="kn">from</span> <span class="nn">llama_index.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">from</span> <span class="nn">llama_index.async_utils</span> <span class="kn">import</span> <span class="n">run_jobs</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">aprocess_doc</span><span class="p">(</span><span class="n">doc</span><span class="p">,</span> <span class="n">include_summary</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process doc.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Processing </span><span class="si">{</span><span class="n">doc</span><span class="o">.</span><span class="n">id_</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span>

    <span class="n">date_tokens</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;created_at&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
    <span class="n">year</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date_tokens</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">month</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date_tokens</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">day</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">date_tokens</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="n">assignee</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="s2">&quot;assignee&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span> <span class="k">else</span> <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;assignee&quot;</span><span class="p">]</span>
    <span class="p">)</span>
    <span class="n">size</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">size_arr</span> <span class="o">=</span> <span class="p">[</span><span class="n">l</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;labels&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="s2">&quot;size:&quot;</span> <span class="ow">in</span> <span class="n">l</span><span class="p">]</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">size_arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">size_arr</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="n">new_metadata</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;state&quot;</span><span class="p">:</span> <span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;state&quot;</span><span class="p">],</span>
        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span>
        <span class="s2">&quot;month&quot;</span><span class="p">:</span> <span class="n">month</span><span class="p">,</span>
        <span class="s2">&quot;day&quot;</span><span class="p">:</span> <span class="n">day</span><span class="p">,</span>
        <span class="s2">&quot;assignee&quot;</span><span class="p">:</span> <span class="n">assignee</span><span class="p">,</span>
        <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="n">size</span><span class="p">,</span>
        <span class="s2">&quot;index_id&quot;</span><span class="p">:</span> <span class="n">doc</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># now extract out summary</span>
    <span class="n">summary_index</span> <span class="o">=</span> <span class="n">SummaryIndex</span><span class="o">.</span><span class="n">from_documents</span><span class="p">([</span><span class="n">doc</span><span class="p">])</span>
    <span class="n">query_str</span> <span class="o">=</span> <span class="s2">&quot;Give a one-sentence concise summary of this issue.&quot;</span>
    <span class="n">query_engine</span> <span class="o">=</span> <span class="n">summary_index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">(</span>
        <span class="n">service_context</span><span class="o">=</span><span class="n">ServiceContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span>
            <span class="n">llm</span><span class="o">=</span><span class="n">OpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-3.5-turbo&quot;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="n">summary_txt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query_str</span><span class="p">))</span>

    <span class="n">new_doc</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">summary_txt</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">new_metadata</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_doc</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">aprocess_docs</span><span class="p">(</span><span class="n">docs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process metadata on docs.&quot;&quot;&quot;</span>

    <span class="n">new_docs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">:</span>
        <span class="n">task</span> <span class="o">=</span> <span class="n">aprocess_doc</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
        <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>

    <span class="n">new_docs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_jobs</span><span class="p">(</span><span class="n">tasks</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

    <span class="c1"># new_docs = await tqdm_asyncio.gather(*tasks)</span>

    <span class="k">return</span> <span class="n">new_docs</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_docs</span> <span class="o">=</span> <span class="k">await</span> <span class="n">aprocess_docs</span><span class="p">(</span><span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  0%|                                                                                                                                  | 0/100 [00:00&lt;?, ?it/s]
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processing 9620
Processing 9312
Processing 9435
Processing 9576
Processing 9219
Processing 9571
Processing 9383
Processing 9425
Processing 9405
Processing 9624
Processing 9419
Processing 9546
Processing 9373
Processing 9565
Processing 9408
Processing 9372
Processing 9560
Processing 9415
Processing 9414
Processing 9097
Processing 9492
Processing 9358
Processing 9385
Processing 9269
Processing 9380
Processing 8802
Processing 9352
Processing 9525
Processing 9368
Processing 9543
Processing 8893
Processing 8551
Processing 9470
Processing 9342
Processing 9518
Processing 9343
Processing 9488
Processing 9338
Processing 9337
Processing 9335
Processing 9623
Processing 9314
Processing 8536
Processing 9510
Processing 9523
Processing 9416
Processing 9522
Processing 9520
Processing 7244
Processing 9519
Processing 9602
Processing 9507
Processing 9605
Processing 9491
Processing 9490
Processing 9611
Processing 9353
Processing 3258
Processing 9575
Processing 9348
Processing 7299
Processing 9625
Processing 9483
Processing 9630
Processing 9481
Processing 9627
Processing 9469
Processing 9626
Processing 9477
Processing 9164
Processing 9450
Processing 9398
Processing 9613
Processing 9459
Processing 9612
Processing 9394
Processing 8832
Processing 9439
Processing 9421
Processing 9609
Processing 9413
Processing 9618
Processing 9509
Processing 9574
Processing 9339
Processing 9603
Processing 9604
Processing 9427
Processing 7457
Processing 9417
Processing 9583
Processing 9581
Processing 9426
Processing 7720
Processing 9475
Processing 9431
Processing 9471
Processing 9472
Processing 9607
Processing 9531
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 100/100 [01:58&lt;00:00,  1.18s/it]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">new_docs</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;state&#39;: &#39;open&#39;,
 &#39;year&#39;: 2023,
 &#39;month&#39;: 12,
 &#39;day&#39;: 19,
 &#39;assignee&#39;: &#39;&#39;,
 &#39;size&#39;: &#39;&#39;,
 &#39;index_id&#39;: &#39;9611&#39;}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-data-into-vector-store">
<h2>Load Data into Vector Store<a class="headerlink" href="#load-data-into-vector-store" title="Permalink to this heading"></a></h2>
<p>We load both the summarized metadata as well as the original docs into the vector database.</p>
<ol class="arabic simple">
<li><p><strong>Summarized Metadata</strong>: This goes into the <code class="docutils literal notranslate"><span class="pre">LlamaIndex_auto</span></code> collection.</p></li>
<li><p><strong>Original Docs</strong>: This goes into the <code class="docutils literal notranslate"><span class="pre">LlamaIndex_AutoDoc</span></code> collection.</p></li>
</ol>
<p>By storing both the summarized metadata as well as the original documents, we can execute our structured, hierarchical retrieval strategies.</p>
<p>We load into a vector database that supports auto-retrieval.</p>
<div class="section" id="load-summarized-metadata">
<h3>Load Summarized Metadata<a class="headerlink" href="#load-summarized-metadata" title="Permalink to this heading"></a></h3>
<p>This goes into <code class="docutils literal notranslate"><span class="pre">LlamaIndex_auto</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.vector_stores</span> <span class="kn">import</span> <span class="n">WeaviateVectorStore</span>
<span class="kn">from</span> <span class="nn">llama_index.storage</span> <span class="kn">import</span> <span class="n">StorageContext</span>
<span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">VectorStoreIndex</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">weaviate</span>

<span class="c1"># cloud</span>
<span class="n">auth_config</span> <span class="o">=</span> <span class="n">weaviate</span><span class="o">.</span><span class="n">AuthApiKey</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">weaviate</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span>
    <span class="s2">&quot;https://&lt;weaviate-cluster&gt;.weaviate.network&quot;</span><span class="p">,</span>
    <span class="n">auth_client_secret</span><span class="o">=</span><span class="n">auth_config</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">class_name</span> <span class="o">=</span> <span class="s2">&quot;LlamaIndex_auto&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># optional: delete schema</span>
<span class="n">client</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">delete_class</span><span class="p">(</span><span class="n">class_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vector_store</span> <span class="o">=</span> <span class="n">WeaviateVectorStore</span><span class="p">(</span>
    <span class="n">weaviate_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">index_name</span><span class="o">=</span><span class="n">class_name</span>
<span class="p">)</span>
<span class="n">storage_context</span> <span class="o">=</span> <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Since &quot;new_docs&quot; are concise summaries, we can directly feed them as nodes into VectorStoreIndex</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="p">(</span><span class="n">new_docs</span><span class="p">,</span> <span class="n">storage_context</span><span class="o">=</span><span class="n">storage_context</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-original-docs">
<h3>Load Original Docs<a class="headerlink" href="#load-original-docs" title="Permalink to this heading"></a></h3>
<p>This goes into <code class="docutils literal notranslate"><span class="pre">LlamaIndex_AutoDoc</span></code>.</p>
<p>In later sections we’ll create N different query engines from this collection, each query engine pointing to a specific doc (effective creating doc-specific RAG pipelines).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">docs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;state&#39;: &#39;open&#39;,
 &#39;created_at&#39;: &#39;2023-12-19T22:10:49Z&#39;,
 &#39;url&#39;: &#39;https://api.github.com/repos/run-llama/llama_index/issues/9624&#39;,
 &#39;source&#39;: &#39;https://github.com/run-llama/llama_index/pull/9624&#39;,
 &#39;labels&#39;: [&#39;size:L&#39;],
 &#39;index_id&#39;: &#39;9624&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># optional: delete schema</span>
<span class="n">doc_class_name</span> <span class="o">=</span> <span class="s2">&quot;LlamaIndex_AutoDoc&quot;</span>
<span class="n">client</span><span class="o">.</span><span class="n">schema</span><span class="o">.</span><span class="n">delete_class</span><span class="p">(</span><span class="n">doc_class_name</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># construct separate Weaviate Index with original docs. Define a separate query engine with query engine mapping to each doc id.</span>
<span class="n">vector_store</span> <span class="o">=</span> <span class="n">WeaviateVectorStore</span><span class="p">(</span>
    <span class="n">weaviate_client</span><span class="o">=</span><span class="n">client</span><span class="p">,</span> <span class="n">index_name</span><span class="o">=</span><span class="n">doc_class_name</span>
<span class="p">)</span>
<span class="n">storage_context</span> <span class="o">=</span> <span class="n">StorageContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">vector_store</span><span class="o">=</span><span class="n">vector_store</span><span class="p">)</span>

<span class="n">doc_index</span> <span class="o">=</span> <span class="n">VectorStoreIndex</span><span class="o">.</span><span class="n">from_documents</span><span class="p">(</span>
    <span class="n">docs</span><span class="p">,</span> <span class="n">storage_context</span><span class="o">=</span><span class="n">storage_context</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="setup-auto-retriever">
<h2>Setup Auto-Retriever<a class="headerlink" href="#setup-auto-retriever" title="Permalink to this heading"></a></h2>
<p>In this section we setup our auto-retriever. There’s a few steps that we need to perform.</p>
<ol class="arabic simple">
<li><p><strong>Define the Schema</strong>: Define the vector db schema (e.g. the metadata fields). This will be put into the LLM input prompt when it’s deciding what metadata filters to infer.</p></li>
<li><p><strong>Instantiate the VectorIndexAutoRetriever class</strong>: This creates a retriever on top of our summarized metadata index, and takes in the defined schema as input.</p></li>
<li><p><strong>Define a wrapper retriever</strong>: This allows us to postprocess each node into an <code class="docutils literal notranslate"><span class="pre">IndexNode</span></code>, with an index id linking back source document. This will allow us to do recursive retrieval in the next section (which depends on IndexNode objects linking to downstream retrievers/query engines/other Nodes). <strong>NOTE</strong>: We are working on improving this abstraction.</p></li>
</ol>
<div class="section" id="define-the-schema">
<h3>1. Define the Schema<a class="headerlink" href="#define-the-schema" title="Permalink to this heading"></a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.vector_stores.types</span> <span class="kn">import</span> <span class="n">MetadataInfo</span><span class="p">,</span> <span class="n">VectorStoreInfo</span>


<span class="n">vector_store_info</span> <span class="o">=</span> <span class="n">VectorStoreInfo</span><span class="p">(</span>
    <span class="n">content_info</span><span class="o">=</span><span class="s2">&quot;Github Issues&quot;</span><span class="p">,</span>
    <span class="n">metadata_info</span><span class="o">=</span><span class="p">[</span>
        <span class="n">MetadataInfo</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;state&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Whether the issue is `open` or `closed`&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">MetadataInfo</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The year issue was created&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">MetadataInfo</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;month&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The month issue was created&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">MetadataInfo</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The day issue was created&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">MetadataInfo</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;assignee&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The assignee of the ticket&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">MetadataInfo</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;size&quot;</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;How big the issue is (XS, S, M, L, XL, XXL)&quot;</span><span class="p">,</span>
            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="instantiate-vectorindexautoretriever">
<h3>2. Instantiate VectorIndexAutoRetriever<a class="headerlink" href="#instantiate-vectorindexautoretriever" title="Permalink to this heading"></a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.retrievers</span> <span class="kn">import</span> <span class="n">VectorIndexAutoRetriever</span>

<span class="n">retriever</span> <span class="o">=</span> <span class="n">VectorIndexAutoRetriever</span><span class="p">(</span>
    <span class="n">index</span><span class="p">,</span>
    <span class="n">vector_store_info</span><span class="o">=</span><span class="n">vector_store_info</span><span class="p">,</span>
    <span class="n">similarity_top_k</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">empty_query_top_k</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>  <span class="c1"># if only metadata filters are specified, this is the limit</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="try-it-out">
<h4>Try It Out<a class="headerlink" href="#try-it-out" title="Permalink to this heading"></a></h4>
<p>We can try out our autoretriever on its own.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nodes</span> <span class="o">=</span> <span class="n">retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s2">&quot;Tell me about some issues on 12/11&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number retrieved: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Using query str: 
Using filters: {&#39;month&#39;: 12, &#39;day&#39;: 11}
Number retrieved: 6
{&#39;state&#39;: &#39;open&#39;, &#39;year&#39;: 2023, &#39;month&#39;: 12, &#39;day&#39;: 11, &#39;assignee&#39;: &#39;&#39;, &#39;size&#39;: &#39;&#39;, &#39;index_id&#39;: &#39;9435&#39;}
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="define-a-wrapper-retriever">
<h3>3. Define a Wrapper Retriever<a class="headerlink" href="#define-a-wrapper-retriever" title="Permalink to this heading"></a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.retrievers</span> <span class="kn">import</span> <span class="n">BaseRetriever</span>
<span class="kn">from</span> <span class="nn">llama_index.indices.query.schema</span> <span class="kn">import</span> <span class="n">QueryBundle</span>
<span class="kn">from</span> <span class="nn">llama_index.schema</span> <span class="kn">import</span> <span class="n">IndexNode</span><span class="p">,</span> <span class="n">NodeWithScore</span>


<span class="k">class</span> <span class="nc">IndexAutoRetriever</span><span class="p">(</span><span class="n">BaseRetriever</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Index auto-retriever.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">retriever</span><span class="p">:</span> <span class="n">VectorIndexAutoRetriever</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Init params.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retriever</span> <span class="o">=</span> <span class="n">retriever</span>

    <span class="k">def</span> <span class="nf">_retrieve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query_bundle</span><span class="p">:</span> <span class="n">QueryBundle</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert nodes to index node.&quot;&quot;&quot;</span>
        <span class="n">retrieved_nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="n">query_bundle</span><span class="p">)</span>
        <span class="n">new_retrieved_nodes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">retrieved_node</span> <span class="ow">in</span> <span class="n">retrieved_nodes</span><span class="p">:</span>
            <span class="n">index_id</span> <span class="o">=</span> <span class="n">retrieved_node</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;index_id&quot;</span><span class="p">]</span>
            <span class="n">index_node</span> <span class="o">=</span> <span class="n">IndexNode</span><span class="o">.</span><span class="n">from_text_node</span><span class="p">(</span>
                <span class="n">retrieved_node</span><span class="o">.</span><span class="n">node</span><span class="p">,</span> <span class="n">index_id</span><span class="o">=</span><span class="n">index_id</span>
            <span class="p">)</span>
            <span class="n">new_retrieved_nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">NodeWithScore</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="n">index_node</span><span class="p">,</span> <span class="n">score</span><span class="o">=</span><span class="n">retrieved_node</span><span class="o">.</span><span class="n">score</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">new_retrieved_nodes</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index_retriever</span> <span class="o">=</span> <span class="n">IndexAutoRetriever</span><span class="p">(</span><span class="n">retriever</span><span class="o">=</span><span class="n">retriever</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="setup-recursive-retriever">
<h2>Setup Recursive Retriever<a class="headerlink" href="#setup-recursive-retriever" title="Permalink to this heading"></a></h2>
<p>Now we setup a recursive retriever over our data. A recursive retriever links each node of one retriever to another retriever, query engine, or Node.</p>
<p>In this setup, we link each summarized metadata node to a retriever corresponding to a RAG pipeline over the corresponding document.</p>
<p>We set this up through the following:</p>
<ol class="arabic simple">
<li><p><strong>Define one retriever per document</strong>: Put this in a dictionary</p></li>
<li><p><strong>Define our recursive retriever</strong>: Add the root retriever (the summarized metadata retriever), and add the other document-specific retrievers in the arguments.</p></li>
</ol>
<div class="section" id="define-per-document-retriever">
<h3>1. Define Per-Document Retriever<a class="headerlink" href="#define-per-document-retriever" title="Permalink to this heading"></a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.vector_stores.types</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">MetadataFilter</span><span class="p">,</span>
    <span class="n">MetadataFilters</span><span class="p">,</span>
    <span class="n">FilterOperator</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">retriever_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">query_engine_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">:</span>
    <span class="n">index_id</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s2">&quot;index_id&quot;</span><span class="p">]</span>
    <span class="c1"># filter for the specific doc id</span>
    <span class="n">filters</span> <span class="o">=</span> <span class="n">MetadataFilters</span><span class="p">(</span>
        <span class="n">filters</span><span class="o">=</span><span class="p">[</span>
            <span class="n">MetadataFilter</span><span class="p">(</span>
                <span class="n">key</span><span class="o">=</span><span class="s2">&quot;index_id&quot;</span><span class="p">,</span> <span class="n">operator</span><span class="o">=</span><span class="n">FilterOperator</span><span class="o">.</span><span class="n">EQ</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">index_id</span>
            <span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="n">retriever</span> <span class="o">=</span> <span class="n">doc_index</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">)</span>
    <span class="n">query_engine</span> <span class="o">=</span> <span class="n">doc_index</span><span class="o">.</span><span class="n">as_query_engine</span><span class="p">(</span><span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">)</span>

    <span class="n">retriever_dict</span><span class="p">[</span><span class="n">index_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">retriever</span>
    <span class="n">query_engine_dict</span><span class="p">[</span><span class="n">index_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">query_engine</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="define-recursive-retriever">
<h3>2. Define Recursive Retriever<a class="headerlink" href="#define-recursive-retriever" title="Permalink to this heading"></a></h3>
<p>We can now define our recursive retriever, which will first query the summaries and then retrieve the underlying docs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.retrievers</span> <span class="kn">import</span> <span class="n">RecursiveRetriever</span>

<span class="c1"># note: can pass `agents` dict as `query_engine_dict` since every agent can be used as a query engine</span>
<span class="n">recursive_retriever</span> <span class="o">=</span> <span class="n">RecursiveRetriever</span><span class="p">(</span>
    <span class="s2">&quot;vector&quot;</span><span class="p">,</span>
    <span class="n">retriever_dict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;vector&quot;</span><span class="p">:</span> <span class="n">index_retriever</span><span class="p">,</span> <span class="o">**</span><span class="n">retriever_dict</span><span class="p">},</span>
    <span class="c1"># query_engine_dict=query_engine_dict,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id1">
<h2>Try It Out<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<p>Now we can start retrieving relevant context over Github Issues!</p>
<p>To complete the RAG pipeline setup we’ll combine our recursive retriever with our <code class="docutils literal notranslate"><span class="pre">RetrieverQueryEngine</span></code> to generate a response in addition to the retrieved nodes.</p>
<div class="section" id="try-out-retrieval">
<h3>Try Out Retrieval<a class="headerlink" href="#try-out-retrieval" title="Permalink to this heading"></a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nodes</span> <span class="o">=</span> <span class="n">recursive_retriever</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span><span class="s2">&quot;Tell me about some issues on 12/11&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If you ran the above, you should’ve gotten a long output in the logs.</p>
<p>The result is the source chunks in the relevant docs.</p>
<p>Let’s look at the date attached to the source chunk (was present in the original metadata).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number of source nodes: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">nodes</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">metadata</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of source nodes: 6
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;state&#39;: &#39;open&#39;,
 &#39;created_at&#39;: &#39;2023-12-11T14:03:19Z&#39;,
 &#39;url&#39;: &#39;https://api.github.com/repos/run-llama/llama_index/issues/9435&#39;,
 &#39;source&#39;: &#39;https://github.com/run-llama/llama_index/issues/9435&#39;,
 &#39;labels&#39;: [&#39;bug&#39;, &#39;triage&#39;],
 &#39;index_id&#39;: &#39;9435&#39;}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plug-into-retrieverqueryengine">
<h3>Plug into <code class="docutils literal notranslate"><span class="pre">RetrieverQueryEngine</span></code><a class="headerlink" href="#plug-into-retrieverqueryengine" title="Permalink to this heading"></a></h3>
<p>We plug into RetrieverQueryEngine to synthesize a result.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">llama_index.query_engine</span> <span class="kn">import</span> <span class="n">RetrieverQueryEngine</span>
<span class="kn">from</span> <span class="nn">llama_index.llms</span> <span class="kn">import</span> <span class="n">OpenAI</span>
<span class="kn">from</span> <span class="nn">llama_index</span> <span class="kn">import</span> <span class="n">ServiceContext</span>


<span class="n">llm</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-3.5-turbo&quot;</span><span class="p">)</span>
<span class="n">service_context</span> <span class="o">=</span> <span class="n">ServiceContext</span><span class="o">.</span><span class="n">from_defaults</span><span class="p">(</span><span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">)</span>

<span class="n">query_engine</span> <span class="o">=</span> <span class="n">RetrieverQueryEngine</span><span class="o">.</span><span class="n">from_args</span><span class="p">(</span><span class="n">recursive_retriever</span><span class="p">,</span> <span class="n">llm</span><span class="o">=</span><span class="n">llm</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;Tell me about some issues on 12/11&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>There were several issues created on 12/11. One of them is a bug where the metadata filter is not working correctly with Elastic search indexing. Another bug involves an error loading the &#39;punkt&#39; module in the NLTK library. There are also a couple of feature requests, one for adding Postgres BM25 support and another for making llama-index compatible with models finetuned and hosted on modal.com. Additionally, there is a question about using the Slack Loader with large Slack channels.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="s2">&quot;Tell me about some open issues related to agents&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Blue">Retrieving with query id None: Tell me about some open issues related to agents</span>
Using query str: agents
Using filters: {&#39;state&#39;: &#39;open&#39;}
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieved node with id, entering: 9472</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">Retrieving with query id 9472: Tell me about some open issues related to agents</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieving text node: [Feature Request]: Add stop words to ReAct agent</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">### Feature Description</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">The ReAct agent does not use any stop words and the current API does not allow these to be passed to the LLM API.</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">When using the ReAct agent chat abstraction the LLM often will generate an entire conversation before this output is collected by llama-index and then trimmed to the first `Thought:`, `Action:` set.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">This is very, very slow for some models.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">A better approach would be to use any available stop word setting in the APIs llama-index calls, or to instead use a streaming approach and implement stop words when possible this way.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Additionally stop words should be plumbed up to the chat, query, etc API. This could probably be its own issue.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">### Reason</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">`ReActOutputParser` selects the first `Thought:`, `Action:` set to act on. This hides that the LLM is doing a lot of useless work.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">`ReActAgent` should probably inject a stop word. If you build a chat or query from this the LLM will do a lot of work before its output is truncated to the first `Thought:`, `Action:` block.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">### Value of Feature</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">LLM usage is expensive and especially slow when working locally. Currently with a variety of models, the ReAct agent is very inefficient because it generates large outputs containing many `Thought:`, `Action:` blocks and truncates to the first one. It should just avoid generating these large blocks with a stop word or by using streaming if available and stopping after the first block.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">This would reduce cost and significantly increase speed for local inference.</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieved node with id, entering: 9565</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">Retrieving with query id 9565: Tell me about some open issues related to agents</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieving text node: [Question]: Connecting to Mixtral 8x7b Chat on together.ai</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">### Question Validation</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">- [X] I have searched both the documentation and discord for an answer.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">### Question</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">I am trying to connect to mistral chat model on together.ai</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">model is defined as OpenAILike</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">llm = OpenAILike(</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">    model=&quot;DiscoResearch/DiscoLM-mixtral-8x7b-v2&quot;,</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">    api_base=&quot;https://api.together.xyz/v1&quot;,</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">    api_key=&quot;&lt;secret key&gt;&quot;,</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">    temperatue=0.1</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">)</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">but I am not getting any responses as I suspect that model is expecting specific prompt template.</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Anyone managed to make it work, quick sample would be appreciated ?</span>

</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>There are two open issues related to agents. The first issue is a feature request to add stop words to the ReAct agent. The issue describes that the ReAct agent does not currently use any stop words, which results in slow performance for some models. The request suggests using stop words in the APIs or implementing a streaming approach to improve efficiency. The second issue is a question about connecting to the Mistral 8x7b chat model on together.ai. The user is seeking assistance in making the model work and is looking for a sample prompt template.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">query_engine</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
    <span class="s2">&quot;Tell me about some size S issues related to our llm integrations&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Blue">Retrieving with query id None: Tell me about some size S issues related to our llm integrations</span>
Using query str: llm integrations
Using filters: {&#39;size&#39;: &#39;S&#39;}
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieved node with id, entering: 9421</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">Retrieving with query id 9421: Tell me about some size S issues related to our llm integrations</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieving text node: Fix cleanup process in  _delete_node of document_summary</span>
<span class=" -Color -Color-Bold -Color-Bold-C200"># Description</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Cannot remove doc from DocumentSummaryIndex by delete_ref_doc(...)</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">As designed, the user can remove the nodes from the document summary index according to &quot;doc_id&quot; by delete_ref_doc(...) which will call delete_nodes(...) from BaseIndex to do the work. </span>
<span class=" -Color -Color-Bold -Color-Bold-C200">&lt;img width=&quot;600&quot; alt=&quot;截屏2023-12-10 16 12 57&quot; src=&quot;https://github.com/run-llama/llama_index/assets/114048/d1b804fd-9830-4dce-985f-ac39acffcb4d&quot;&gt;</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">However, it passes the related node_ids instead of doc_id itself. </span>
<span class=" -Color -Color-Bold -Color-Bold-C200">&lt;img width=&quot;692&quot; alt=&quot;截屏2023-12-10 16 10 15&quot; src=&quot;https://github.com/run-llama/llama_index/assets/114048/68e89cb2-d63d-40cc-adee-1dcec1ee443a&quot;&gt;</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Fixes # (issue)</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">## Type of Change</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Please delete options that are not relevant.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] Bug fix (non-breaking change which fixes an issue)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] New feature (non-breaking change which adds functionality)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] This change requires a documentation update</span>

<span class=" -Color -Color-Bold -Color-Bold-C200"># How Has This Been Tested?</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Please describe the tests that you ran to verify your changes. Provide instructions so we can reproduce. Please also list any relevant details for your test configuration</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] Added new unit/integration tests</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] Added new notebook (that tests end-to-end)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] I stared at the code and made sure it makes sense</span>

<span class=" -Color -Color-Bold -Color-Bold-C200"># Suggested Checklist:</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] I have performed a self-review of my own code</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have commented my code, particularly in hard-to-understand areas</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have made corresponding changes to the documentation</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have added Google Colab support for the newly added notebooks.</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] My changes generate no new warnings</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have added tests that prove my fix is effective or that my feature works</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] New and existing unit tests pass locally with my changes</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I ran `make format; make lint` to appease the lint gods</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieved node with id, entering: 9372</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">Retrieving with query id 9372: Tell me about some size S issues related to our llm integrations</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">Retrieving text node: Proposal : Update the evaluation correctness function to be more robust.</span>
<span class=" -Color -Color-Bold -Color-Bold-C200"># Description</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Proposal : Update the evaluation correctness function to be more robust.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">When using RagEvaluatorPack on a large dataset, sometime GPT3/4 will return a malformated answer, raising an error in correctness.py and interumpting the benchmark (that could be costly).</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Such case emerge when the LLM :</span>
<span class=" -Color -Color-Bold -Color-Bold-C200"> - prefix the answer with ```\n```</span>
<span class=" -Color -Color-Bold -Color-Bold-C200"> - do not answer correctly such as: ```I&#39;m not sure how to evaluate this case so I will say 3.0```</span>
<span class=" -Color -Color-Bold -Color-Bold-C200"> - Something in the content made the LLM go off-road</span>
<span class=" -Color -Color-Bold -Color-Bold-C200"> </span>
<span class=" -Color -Color-Bold -Color-Bold-C200">To make the parsing more robust, I change the prompt to output the score in the form ```[SCORE:4.2]``` instead of only a number.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">I then use a regexp to retrieve the score instead of assuming first line.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">I use a regexp to remove the ```[SCORE:2.3]``` pattern from the llm answer to get a reasoning, without relying on line marker.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">## Type of Change</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Please delete options that are not relevant.</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] Bug fix (non-breaking change which fixes an issue)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] New feature (non-breaking change which adds functionality)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] This change requires a documentation update</span>

<span class=" -Color -Color-Bold -Color-Bold-C200"># How Has This Been Tested?</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">Please describe the tests that you ran to verify your changes. Provide instructions so we can reproduce. Please also list any relevant details for your test configuration</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] Added new unit/integration tests</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] Added new notebook (that tests end-to-end)</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] I stared at the code and made sure it makes sense</span>

<span class=" -Color -Color-Bold -Color-Bold-C200"># Suggested Checklist:</span>

<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] I have performed a self-review of my own code</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have commented my code, particularly in hard-to-understand areas</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have made corresponding changes to the documentation</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have added Google Colab support for the newly added notebooks.</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [x] My changes generate no new warnings</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I have added tests that prove my fix is effective or that my feature works</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] New and existing unit tests pass locally with my changes</span>
<span class=" -Color -Color-Bold -Color-Bold-C200">- [ ] I ran `make format; make lint` to appease the lint gods</span>

</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>There are two size S issues related to the llm integrations. The first issue is about fixing the cleanup process in the _delete_node of document_summary. The second issue is a proposal to update the evaluation correctness function to be more robust. Both issues are currently open and have not been resolved yet.
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="concluding-thoughts">
<h2>Concluding Thoughts<a class="headerlink" href="#concluding-thoughts" title="Permalink to this heading"></a></h2>
<p>This shows you how to create a structured retrieval layer over your document summaries, allowing you to dynamically pull in the relevant documents based on the user query.</p>
<p>You may notice similarities between this and our <a class="reference external" href="https://docs.llamaindex.ai/en/stable/examples/agent/multi_document_agents.html">multi-document agents</a>. Both architectures are aimed for powerful multi-document retrieval.</p>
<p>The goal of this notebook is to show you how to apply structured querying in a multi-document setting. You can actually apply this auto-retrieval algorithm to our multi-agent setup too. The multi-agent setup is primarily focused on adding agentic reasoning across documents and per documents, alloinwg multi-part queries using chain-of-thought.</p>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../SQLAutoVectorQueryEngine.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">SQL Auto Vector Query Engine</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../pandas_query_engine.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Pandas Query Engine</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Jerry Liu
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Structured Hierarchical Retrieval</a><ul>
<li><a class="reference internal" href="#setup-and-download-data">Setup and Download Data</a></li>
<li><a class="reference internal" href="#load-data-into-vector-store">Load Data into Vector Store</a><ul>
<li><a class="reference internal" href="#load-summarized-metadata">Load Summarized Metadata</a></li>
<li><a class="reference internal" href="#load-original-docs">Load Original Docs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setup-auto-retriever">Setup Auto-Retriever</a><ul>
<li><a class="reference internal" href="#define-the-schema">1. Define the Schema</a></li>
<li><a class="reference internal" href="#instantiate-vectorindexautoretriever">2. Instantiate VectorIndexAutoRetriever</a><ul>
<li><a class="reference internal" href="#try-it-out">Try It Out</a></li>
</ul>
</li>
<li><a class="reference internal" href="#define-a-wrapper-retriever">3. Define a Wrapper Retriever</a></li>
</ul>
</li>
<li><a class="reference internal" href="#setup-recursive-retriever">Setup Recursive Retriever</a><ul>
<li><a class="reference internal" href="#define-per-document-retriever">1. Define Per-Document Retriever</a></li>
<li><a class="reference internal" href="#define-recursive-retriever">2. Define Recursive Retriever</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Try It Out</a><ul>
<li><a class="reference internal" href="#try-out-retrieval">Try Out Retrieval</a></li>
<li><a class="reference internal" href="#plug-into-retrieverqueryengine">Plug into <code class="docutils literal notranslate"><span class="pre">RetrieverQueryEngine</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#concluding-thoughts">Concluding Thoughts</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/js/mendablesearch.js"></script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.3.3/dist/umd/index.js"></script>
    <script defer="defer" src="../../../_static/js/algolia.js"></script>
    </body>
</html>